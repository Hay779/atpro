<!-- Fichier : src/_includes/base.njk -->

<!DOCTYPE html>
<html lang="fr">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">

    <!-- Le titre sera dynamique et viendra du "Front Matter" de chaque page -->
    <title>Contactez Atelier Express Pro - Solutions IT pour PME</title>

    <!-- La description sera aussi dynamique -->
    <meta name="description" content="Contactez Atelier Express Pro pour discuter de vos besoins IT, obtenir un devis, planifier un rendez-vous ou pour toute demande d&#39;assistance.">

    <!-- Liens CSS et autres balises <head> communes -->
    <link href="https://fonts.googleapis.com/css2?family=Inter:wght@400;500;600;700;800&display=swap" rel="stylesheet">
    <link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/6.2.0/css/all.min.css">
    <link rel="icon" href="/img/LogoAtelierExpressPro.png" type="image/png">
    <link rel="stylesheet" href="/css/style.css">

    <!-- Tu peux ajouter d'autres balises meta ici si elles sont communes à toutes les pages -->
</head>
<body>

    <!-- On inclut le fichier du header. Eleventy va le chercher dans _includes -->
     <!-- ===== START:    <!-- ===== START: MAIN NAVIGATION BLOCK (HEADER + SERVICES NAV) ===== -->
    <header class="site-header-custom">
        <div class="container header-custom-container">
            <div class="logo-atelier-express-pro-custom">
                <a href="index.html" title="Accueil Atelier Express Pro - Solutions IT pour PME">
                    <picture>
                        <source media="(max-width:850px)" srcset="img/logoP.png"> <!-- Assuming logoP.png is a smaller generic logo -->
                        <img src="img/LogoAtelierExpressPro.png" alt="Logo Atelier Express Pro - Solutions IT pour PME"
                             onerror="this.style.display='none'; this.onerror=null; document.getElementById('logoTextFallbackHeader').style.display='block';"
                             loading="eager">
                    </picture>
                    <span id="logoTextFallbackHeader" class="logo-text-fallback" style="display:none;">ATELIER EXPRESS PRO</span>
                </a>
            </div>
            <nav class="main-nav-custom" aria-label="Navigation principale de bureau">
                <!-- Liens de navigation principale desktop (si ajoutés) -->
            </nav>
    
            <!-- Actions Header (Desktop et Mobile combinés/gérés par CSS) -->
            <div class="header-actions-combined">
                <a href="tel:+33412345678" class="phone-link-header"> <!-- Nouvelle classe pour le téléphone -->
                    <i class="fas fa-phone-alt" aria-hidden="true"></i> 
                    <span class="phone-text-header">04 12 34 56 78</span>
                </a>
                <a href="questionnaire.html" class="btn btn-primary-custom cta-header-main" data-i18n="nav.startQuote">Commencer votre devis</a> <!-- Un seul bouton devis -->
                
                <button class="mobile-menu-toggle-custom" aria-label="Ouvrir le menu" aria-expanded="false" aria-controls="mobileNavMenuUniversal">
                    <i class="fas fa-bars icon-open" aria-hidden="true"></i>
                    <i class="fas fa-times icon-close" aria-hidden="true" style="display: none;"></i>
                </button>
            </div>
        </div>
    
        <!-- Menu Mobile -->
        <nav class="mobile-nav-custom" id="mobileNavMenuUniversal" aria-label="Menu de navigation mobile">
            <!-- ... contenu du menu mobile inchangé ... -->
            <a href="#prestations-atelier-express-pro" class="mobile-nav-main-link" data-i18n="mobileNav.ourServices">Nos Services</a>
            <hr>
            <a href="services/infogerance.html" data-i18n="services.infogerance.titleShort">Infogérance</a>
            <a href="services/cybersecurite.html" data-i18n="services.cybersecurity.titleShort">Cybersécurité</a>
            <a href="services/cloud.html" data-i18n="services.cloud.titleShort">Solutions Cloud</a>
            <a href="services/reseau.html" data-i18n="services.network.titleShort">Réseau</a>
            <a href="services/materiel.html" data-i18n="services.hardware.titleShort">Matériel</a>
            <a href="services/audit.html" data-i18n="services.audit.titleShort">Audit & Conseil</a>
            <hr>
            <a href="#pourquoi-atelier-express-pro" data-i18n="mobileNav.whyUs">Pourquoi Nous ?</a>
            <a href="actualites.html" data-i18n="mobileNav.news">Actualités</a>
            <a href="a-propos.html" data-i18n="mobileNav.aboutUs">À Propos</a>
            <a href="partenariat.html" data-i18n="mobileNav.partnership">Partenariat</a>
            <a href="contact.html" data-i18n="mobileNav.contact">Contact</a>
            <hr>
            <a href="questionnaire.html" class="btn btn-accent-custom mobile-nav-btn" data-i18n="mobileNav.quoteSimulator">Simulateur Devis Complet</a>
            <a href="support-urgent.html" class="btn btn-secondary-custom mobile-nav-btn" data-i18n="mobileNav.urgentSupport">Support Urgent</a>
        </nav>
    </header>
   
    <nav class="services-navigation-bar" aria-label="Navigation des services principaux">
        <div class="container services-nav-container">
            <ul>
                <li><a href="services/infogerance.html"><i class="fas fa-cogs" aria-hidden="true"></i> <span class="service-nav-text" data-i18n="services.infogerance.titleShort">Infogérance</span></a></li>
                <li><a href="services/cybersecurite.html"><i class="fas fa-shield-virus" aria-hidden="true"></i> <span class="service-nav-text" data-i18n="services.cybersecurity.titleShort">Cybersécurité</span></a></li>
                <li><a href="services/cloud.html"><i class="fas fa-cloud" aria-hidden="true"></i> <span class="service-nav-text" data-i18n="services.cloud.titleShort">Solutions Cloud</span></a></li>
                <li><a href="services/reseau.html"><i class="fas fa-network-wired" aria-hidden="true"></i> <span class="service-nav-text" data-i18n="services.network.titleShort">Réseau</span></a></li>
                <li><a href="services/materiel.html"><i class="fas fa-laptop-code" aria-hidden="true"></i> <span class="service-nav-text" data-i18n="services.hardware.titleShort">Matériel</span></a></li>
                <li><a href="services/audit.html"><i class="fas fa-clipboard-check" aria-hidden="true"></i> <span class="service-nav-text" data-i18n="services.audit.titleShort">Audit & Conseil</span></a></li>
            </ul>
        </div>
    </nav>
<!-- ===== END: MAIN NAVIGATION BLOCK ===== -->


    <main>
        <!-- C'est ici que le contenu unique de chaque page (.njk) sera inséré -->
        


<section class="hero-section-custom hero-contact">
    <div class="container">
        <h1 data-i18n="contactPage.hero.title">Contactez-Nous</h1>
        <p class="section-subtitle-custom" data-i18n="contactPage.hero.subtitle">Notre équipe est à votre écoute pour répondre à toutes vos questions et vous accompagner dans vos projets informatiques.</p>
    </div>
</section>

<section class="contact-content-section section-padding">
    <div class="container">
        <div class="contact-grid">
            <!-- Colonne Gauche: Formulaire de Contact -->
            <div class="contact-form-column">
                <h2 data-i18n="contactPage.form.title">Envoyez-nous un message</h2>
                <form id="contactForm">
                    <div class="form-group">
                        <label for="nom" data-i18n="contactPage.form.nameLabel">Nom complet</label>
                        <input type="text" id="nom" name="nom" required>
                    </div>
                    <div class="form-group">
                        <label for="email" data-i18n="contactPage.form.emailLabel">Adresse e-mail</label>
                        <input type="email" id="email" name="email" required>
                    </div>
                    <div class="form-group">
                        <label for="telephone" data-i18n="contactPage.form.phoneLabel">Téléphone (Optionnel)</label>
                        <input type="tel" id="telephone" name="telephone">
                    </div>
                    <div class="form-group">
                        <label for="sujet" data-i18n="contactPage.form.subjectLabel">Sujet de votre demande</label>
                        <input type="text" id="sujet" name="sujet" required>
                    </div>
                    <div class="form-group">
                        <label for="service" data-i18n="contactPage.form.serviceLabel">Objet de votre demande</label>
                        <select id="service" name="demande_objet">
                            <option value="" data-i18n="contactPage.form.reasonOptionDefault">-- Sélectionner un motif --</option>
                            <option value="info_generale" data-i18n="contactPage.form.reasonInfo">Demande d'information générale</option>
                            <option value="devis" data-i18n="contactPage.form.reasonQuote">Demande de devis</option>
                            <option value="rdv_expert" data-i18n="contactPage.form.reasonAppointment">Prise de Rendez-vous Expert</option>
                            <option value="support_urgent" data-i18n="contactPage.form.reasonSupport">Support Urgent</option>
                            <option value="partenariat" data-i18n="contactPage.form.reasonPartnership">Demande de partenariat</option>
                            <option value="autre" data-i18n="contactPage.form.reasonOther">Autre</option>
                        </select>
                    </div>
                    <div class="form-group">
                        <label for="message" data-i18n="contactPage.form.messageLabel">Votre message</label>
                        <textarea id="message" name="message" rows="6" required></textarea>
                    </div>
                    <div class="form-group">
                        <label class="checkbox-label">
                            <input type="checkbox" name="rgpd" required>
                            <span data-i18n="contactPage.form.rgpdConsent">J'accepte que mes données soient traitées conformément à la <a href="/politique-confidentialite.html" target="_blank">politique de confidentialité</a>.</span>
                        </label>
                    </div>
                    <button type="submit" class="btn btn-primary-custom btn-large" data-i18n="contactPage.form.submitButton">Envoyer le message</button>
                </form>
            </div>

            <!-- Colonne Droite: Informations de Contact et RDV -->
            <aside class="contact-info-column">
                <div class="contact-info-block">
                    <h3 data-i18n="contactPage.appointment.title">Prenez rendez-vous avec un expert</h3>
                    <a href="URL_DE_VOTRE_OUTIL_DE_PLANIFICATION_RDV" class="btn btn-accent-custom btn-block" target="_blank" data-i18n="contactPage.appointment.scheduleButton">
                        <i class="fas fa-calendar-alt"></i> Planifier un RDV
                    </a>
                    <p class="availability-note" data-i18n="contactPage.appointment.availabilityNote">Via notre outil de planification en ligne.</p>
                </div>
                <div class="contact-info-block">
                    <h3 data-i18n="contactPage.chat.title">Chattez avec nous</h3>
                    <button type="button" id="openChatButton" class="btn btn-secondary-custom btn-block">
                        <i class="fas fa-comments"></i> Depuis notre site
                    </button>
                    <p class="availability-note" data-i18n="contactPage.chat.availabilityNote">Du lundi au vendredi de 9h à 17h (icône en bas à droite)</p>
                </div>
                <div class="contact-info-block">
                    <h3 data-i18n="contactPage.callUs.title">Appelez-nous au</h3>
                    <a href="tel:0800873232" class="phone-number-large">0 800 873 232</a>
                    <p class="availability-note" data-i18n="contactPage.callUs.availabilityNote">Du lundi au samedi de 8h à 20h</p>
                </div>
                <div class="contact-info-block">
                    <h3 data-i18n="contactPage.coordinates.title">Nos Coordonnées</h3>
                    <p><i class="fas fa-map-marker-alt icon-left"></i> <strong data-i18n="contactPage.coordinates.addressLabel">Adresse :</strong><br>123 Avenue de la Tech<br>75000 Paris, France</p>
                    <p><i class="fas fa-envelope icon-left"></i> <strong data-i18n="contactPage.coordinates.emailLabel">E-mail Général :</strong><br><a href="mailto:contact@atelierexpresspro.fr">contact@atelierexpresspro.fr</a></p>
                </div>
            </aside>
        </div>
    </div>
</section>


<script>
document.addEventListener('DOMContentLoaded', function () {
    const contactForm = document.getElementById('contactForm');

    if (contactForm) {
        contactForm.addEventListener('submit', async function(event) {
            event.preventDefault();

            const submitButton = contactForm.querySelector('button[type="submit"]');
            const originalButtonText = submitButton.innerHTML;
            submitButton.disabled = true;
            submitButton.innerHTML = 'Envoi en cours...';

            const formData = new FormData(contactForm);
            const data = Object.fromEntries(formData.entries());
            data.rgpd = formData.has('rgpd');

            try {
                const response = await fetch('https://atpro.onrender.com/api/contact', {
                    method: 'POST',
                    headers: { 'Content-Type': 'application/json' },
                    body: JSON.stringify(data)
                });

                if (response.ok) {
                    alert('Message envoyé avec succès ! Merci, nous vous recontacterons bientôt.');
                    contactForm.reset();
                } else {
                    const errorData = await response.json();
                    alert('Erreur lors de l\'envoi : ' + (errorData.message || 'Veuillez réessayer.'));
                }
            } catch (error) {
                console.error('Erreur de réseau:', error);
                alert('Impossible de contacter le serveur. Veuillez vérifier votre connexion et réessayer.');
            } finally {
                submitButton.disabled = false;
                submitButton.innerHTML = originalButtonText;
            }
        });
    }

    const openChatButton = document.getElementById('openChatButton');
    if (openChatButton) {
        openChatButton.addEventListener('click', function() {
            alert("Le widget de chat devrait s'ouvrir ici ! (Intégration à faire)");
        });
    }
});
</script>
    </main>

    <!-- On inclut le fichier du footer -->
    <footer class="site-footer-atelier-express-pro">
        <div class="container footer-grid-atelier-express-pro">
            <div class="footer-col footer-col-about">
                <a href="index.html" title="Accueil Atelier Express Pro - Solutions IT pour PME">
                    <img src="img/atelier-express-pro-logo-principal-blanc.png" alt="Atelier Express Pro Logo Blanc - Solutions IT pour PME" class="footer-logo-img" onerror="this.style.display='none'; this.onerror=null; document.getElementById('logoFooterTextFallback').style.display='block';" loading="lazy">
                    <span id="logoFooterTextFallback" class="logo-text-fallback" style="display:none; color:var(--custom-text-light-primary); margin-bottom:15px; font-size:22px; font-weight:bold;">ATELIER EXPRESS PRO</span>
                </a>
                <p data-i18n="footer.about.description">Atelier Express Pro, votre partenaire informatique de confiance. Nous aidons les PME à exploiter le plein potentiel de la technologie.</p>
                <div class="social-media-links">
                    <a href="#" aria-label="LinkedIn Atelier Express Pro" title="LinkedIn Atelier Express Pro"><i class="fab fa-linkedin-in" aria-hidden="true"></i></a>
                    <a href="#" aria-label="Facebook Atelier Express Pro" title="Facebook Atelier Express Pro"><i class="fab fa-facebook-f" aria-hidden="true"></i></a>
                    <a href="#" aria-label="Twitter Atelier Express Pro" title="Twitter Atelier Express Pro"><i class="fab fa-twitter" aria-hidden="true"></i></a>
                </div>
            </div>
            <div class="footer-col">
                <h4 data-i18n="footer.explore.title">Explorer</h4>
                <ul>
                    <li><a href="index.html" data-i18n="footer.explore.home" class="active">Accueil</a></li>
                    <li><a href="#prestations-atelier-express-pro" data-i18n="footer.explore.services">Nos Prestations</a></li>
                    <li><a href="#pourquoi-atelier-express-pro" data-i18n="footer.explore.whyUs">Pourquoi Nous ?</a></li>
                    <li><a href="a-propos.html" data-i18n="footer.explore.aboutUs">Qui sommes-nous ?</a></li>
                    <li><a href="questionnaire.html" data-i18n="footer.explore.quoteSimulator">Simulateur de Devis</a></li>
                    <li><a href="actualites.html" data-i18n="footer.explore.newsBlog">Actualités & Blog</a></li>
                    <li><a href="partenariat.html" data-i18n="footer.explore.partnership">Devenir Partenaire</a></li>
                    <li><a href="contact.html" data-i18n="footer.explore.contact">Contact</a></li>
                </ul>
            </div>
             <div class="footer-col">
                <h4 data-i18n="footer.keyServices.title">Services Clés</h4>
                <ul>
                    <li><a href="services/infogerance.html" data-i18n="services.infogerance.title">Infogérance & Maintenance</a></li>
                    <li><a href="services/cybersecurite.html" data-i18n="services.cybersecurity.title">Cybersécurité & Sauvegarde</a></li>
                    <li><a href="services/cloud.html" data-i18n="services.cloud.title">Solutions Cloud</a></li>
                    <li><a href="services/reseau.html" data-i18n="services.network.title">Réseau & Infrastructure</a></li>
                    <li><a href="services/audit.html" data-i18n="services.audit.title">Audit & Conseil</a></li>
                    <li><a href="services/materiel.html" data-i18n="services.hardware.title">Matériel Informatique</a></li>
                    <li><a href="services/supervision.html" data-i18n="services.supervision.title">Supervision Proactive</a></li>
                </ul>
            </div>
            <div class="footer-col footer-col-contact">
                <h4 data-i18n="footer.contactUs.title">Nous Contacter</h4>
                <address>
                    <p><i class="fas fa-map-marker-alt" aria-hidden="true"></i> <span>123 Avenue de la Tech<br>75000 Paris, France</span></p>
                    <p><i class="fas fa-phone" aria-hidden="true"></i> <a href="tel:+33412345678">04 12 34 56 78</a></p>
                    <p><i class="fas fa-envelope" aria-hidden="true"></i> <a href="mailto:contact@atelierexpresspro.fr">contact@atelierexpresspro.fr</a></p>
                </address>
            </div>
        </div>
        <div class="footer-bottom-atelier-express-pro">
            <p>© <span class="current-year-atelier-express-pro"></span> <span data-i18n="footer.copyrightText">Atelier Express Pro SAS. Tous droits réservés.</span> | <a href="mentions-legales.html" data-i18n="footer.legalNotices">Mentions Légales</a> | <a href="politique-confidentialite.html" data-i18n="footer.privacyPolicy">Confidentialité</a></p>
        </div>
    </footer>

    <!-- Bouton d'aide flottant (si commun à toutes les pages) -->
    <a href="/support-urgent.html" class="floating-help-btn-atelier-express-pro" aria-label="Contacter Atelier Express Pro pour un support urgent">
        <i class="fas fa-headset" aria-hidden="true"></i>
    </a>

    <!-- Le script principal qui est sur toutes les pages (menu mobile, année du footer) -->
    <script>
        document.addEventListener('DOMContentLoaded', function () {
            // Logique pour le menu mobile
            const mobileMenuToggle = document.querySelector('.mobile-menu-toggle-custom');
            const mobileNavMenu = document.getElementById('mobileNavMenuUniversal');
            const iconOpen = mobileMenuToggle ? mobileMenuToggle.querySelector('.icon-open') : null;
            const iconClose = mobileMenuToggle ? mobileMenuToggle.querySelector('.icon-close') : null;

            if (mobileMenuToggle && mobileNavMenu && iconOpen && iconClose) {
                mobileMenuToggle.addEventListener('click', function () {
                    const isExpanded = this.getAttribute('aria-expanded') === 'true' || false;
                    this.setAttribute('aria-expanded', !isExpanded);
                    mobileNavMenu.classList.toggle('active');
                    
                    if (mobileNavMenu.classList.contains('active')) {
                        iconOpen.style.display = 'none';
                        iconClose.style.display = 'inline';
                    } else {
                        iconOpen.style.display = 'inline';
                        iconClose.style.display = 'none';
                    }
                });
                mobileNavMenu.querySelectorAll('a').forEach(link => {
                    link.addEventListener('click', () => {
                        if (mobileNavMenu.classList.contains('active')) {
                            mobileMenuToggle.click();
                        }
                    });
                });
            }

            // Logique pour l'année du footer
            const yearSpan = document.querySelector('.current-year-atelier-express-pro');
            if (yearSpan) {
                yearSpan.textContent = new Date().getFullYear();
            }

            // Note : les scripts spécifiques à une page (comme questionnaire.js)
            // ne doivent PAS être ici, mais dans le fichier .njk de la page concernée.
        });
    </script>
</body>
</html>